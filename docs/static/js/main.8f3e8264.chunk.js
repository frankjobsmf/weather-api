(this["webpackJsonpapi-weather"]=this["webpackJsonpapi-weather"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(5),a=n.n(c),s=(n(11),n(2)),i=n(0),u=function(e){var t=e.setCityValue,n=Object(r.useState)(""),c=Object(s.a)(n,2),a=c[0],u=c[1],o=function(e){e.preventDefault(),""!==a&&(t([a]),u(""))};return Object(i.jsx)("div",{children:Object(i.jsx)("form",{onSubmit:o,children:Object(i.jsxs)("div",{className:"input-group mb-3",children:[Object(i.jsx)("button",{onClick:o,className:"btn btn-primary",type:"button",children:"Buscar"}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Ciudad...",value:a,onChange:function(e){u(e.target.value)}})]})})})},o=n(4),l=n.n(o),j=n(6),b=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r,c,a,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.weatherapi.com/v1/current.json?key=efdbee390beb40dcae701258212504&q=".concat(t,"&aqi=no"),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(c=e.sent).error){e.next=10;break}return a={name:"",region:"",country:"",celsius:""},e.abrupt("return",a);case 10:return s=c.location,i=c.current,u={name:s.name,region:s.region,country:s.country,celsius:i.temp_c},e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=function(e){var t=Object(r.useState)({data:[],loading:!0}),n=Object(s.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){return b(e).then((function(e){return setTimeout((function(){a({data:e,loading:!1})}),2500)})),function(){a({data:[],loading:!0})}}),[e]),c}(e.city),n=t.data,c=t.loading,a=n.name,u=n.region,o=n.country,l=n.celsius;return console.log(a),Object(i.jsx)(i.Fragment,{children:c?Object(i.jsx)("div",{className:"alert alert-primary",role:"alert",children:"Cargando ciudad..."}):Object(i.jsxs)("div",{className:"city-weather-grid",children:[Object(i.jsx)("h2",{className:"nameCity",children:a}),Object(i.jsx)("hr",{}),Object(i.jsxs)("h3",{className:"regionCountry",children:[u," - ",o]}),Object(i.jsxs)("h2",{className:"celsius",children:[l,"\xb0"]})]})})},h=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{className:"title",children:" Weather API "}),Object(i.jsxs)("div",{className:"city-weather",children:[Object(i.jsx)(u,{setCityValue:c}),n.map((function(e){return Object(i.jsx)(d,{city:e},e)}))]})]})};a.a.render(Object(i.jsx)(h,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8f3e8264.chunk.js.map